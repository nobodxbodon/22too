# 日志处理工具

1. cat 一般不用，日志文件太大，所以仅仅用来查看一下一个屏幕能放下的文本
 
    打开文件 *xx.txt*

    $ cat xx.txt


2. find 当有多个日志时，需要按照条件查找。

    查找当前路径下的使用 *xx.* 开头的文件

    $ find . -name "xx.*"

3. xargs 对find找到的文件进行迭代处理
    
    查找当前路径下的使用 *.log* 开头的文件,并且查找所有文件中，打印所有拥有abc字符的所有扫描到的文件行

    $ find . -name "*.log"|xargs grep -a "abc"

4. grep 对文件内容进行过滤

    对当前文件进行过滤，查看*abc*所在行，打印出来
    $ cat xx.txt |grep -a "abc"

    去掉当前已知数据行，留下未知数据，也就是数据取反, 打印不含*abc*的行

    $ cat xx.txt |grep -v "abc"


5. locate 用来查找文件

    优点： 反映快速，并且是全路径查找，使用简单
    缺点： 近期生成的文件可能无法查找，locate貌似使用了数据定期归档功能



6. awk 对格式化之后的数据进行统计或者处理

    awk 功能几分强大，熟练使用事半功倍

    test.log 为结构化数据
    $cat test.log
    ```
    [2017-10-13 14:27:43,839][tid:140009571895040][sock_engine.py:170] DEBUG: next heartbeat active => 1507876092.82
    [2017-10-13 14:28:12,478][tid:140009571895040][heartbeat.py:74] DEBUG: Received heartbeat frame
    [2017-10-13 14:28:12,818][tid:140009571895040][sock_engine.py:179] INFO: check callback timeout => 0 1507876092.82
    [2017-10-13 14:28:12,818][tid:140009571895040][sock_engine.py:162] DEBUG: active elapsed => 58.0000748634
    [2017-10-13 14:28:12,819][tid:140009571895040][Utils.py:39] INFO: [send_without_login] call cost 0.000398
    [2017-10-13 14:28:12,819][tid:140009571895040][sock_engine.py:170] DEBUG: next heartbeat active => 1507876121.82

    ```

    $ cat test.log|  awk -F":" '{print $1}' 
    ```
    [2017-10-13 14
    [2017-10-13 14
    [2017-10-13 14
    [2017-10-13 14
    [2017-10-13 14
    [2017-10-13 14
    [2017-10-13 14
    [2017-10-13 14
    [2017-10-13 14
    [2017-10-13 14
    ```

7. 正则表达式
    用的多，但是很少能记住，个人感觉常用的会用不用查手册就行了，复杂的。直接搜索搞定，没必要记，毕竟需要记忆的知识过多。



 




